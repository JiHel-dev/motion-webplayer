var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var c,f=[];!(c=b.next()).done;)f.push(c.value);return f};
$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$(document).ready(function(){$("#vehiclePark,#RCVnumber,#SelectedData,#startDate,#startTime,#endDate,#endTime").on("change",function(){$("#myChart").remove();$("#divChart").append('<canvas id="myChart"><canvas>');var b=$("#vehiclePark").val(),c=$("#RCVnumber").val(),f=$("#SelectedData").val(),h=$("#startDate").val(),k=$("#endDate").val(),m=$("#startTime").val(),n=$("#endTime").val();$.ajax({url:"graph_data.php",data:{vehicleParkID:b,RCVnumberID:c,SelectedDataID:f,startDateTime:h+" "+m,endDateTime:k+
" "+n},method:"POST",success:function(a){var b=[],c=[],f=[],g=[],h=[],k=[],d=[],e;for(e in a)b.push(a[e].Measure_ID),c.push(a[e].RCV_Number),f.push(a[e].Plate_Number),g.push(a[e].Timestamp),h.push(a[e].Name),k.push(a[e].Unit),d.push(a[e].Value);$("#dataTable").find("tr").remove().end();var l=$("#dataTable");l.append($("<tr></tr>").append($("<th>ID</th>"),$("<th>RCV NUMBER</th>"),$("<th>PLATE NUMBER</th>"),$("<th>TIMESTAMP</th>"),$("<th>NAME</th>"),$("<th>UNIT</th>"),$("<th>VALUE</th>")));a=a.slice(-4).reverse();
$.each(a,function(){l.append($("<tr></tr>").append($("<td></td>").text(this.Measure_ID),$("<td></td>").text(this.RCV_Number),$("<td></td>").text(this.Plate_Number),$("<td></td>").text(this.Timestamp),$("<td></td>").text(this.Name),$("<td></td>").text(this.Unit),$("<td></td>").text(this.Value)))});a=[1,35,3,4,-6,-8,7];g={labels:g,datasets:[{label:$("#SelectedData").val(),backgroundColor:"rgba(100, 200, 255, 0)",borderColor:"rgba(0, 100, 200, 0.75)",hoverBackgroundColor:"rgba(200, 200, 200, 1)",hoverBorderColor:"rgba(200, 200, 200, 1)",
data:d},{label:"toto",backgroundColor:"rgba(100, 200, 255, 0)",borderColor:"rgba(100, 0, 200, 0.75)",data:a}]};b=$("#myChart");new Chart(b,{type:"line",data:g,options:{scales:{yAxes:[{position:"right",ticks:{min:Math.min.apply(Math,$jscomp.arrayFromIterable(d))-.1*Math.abs(Math.max.apply(Math,$jscomp.arrayFromIterable(d))-Math.min.apply(Math,$jscomp.arrayFromIterable(d))),max:Math.max.apply(Math,$jscomp.arrayFromIterable(d))+.1*Math.abs(Math.max.apply(Math,$jscomp.arrayFromIterable(d))-Math.min.apply(Math,
$jscomp.arrayFromIterable(d)))}},{position:"left",ticks:{min:Math.min.apply(Math,$jscomp.arrayFromIterable(a))-.1*Math.abs(Math.max.apply(Math,$jscomp.arrayFromIterable(a))-Math.min.apply(Math,$jscomp.arrayFromIterable(a))),max:Math.max.apply(Math,$jscomp.arrayFromIterable(a))+.1*Math.abs(Math.max.apply(Math,$jscomp.arrayFromIterable(a))-Math.min.apply(Math,$jscomp.arrayFromIterable(a)))}}]}}})},error:function(a){console.log(a)}})})});